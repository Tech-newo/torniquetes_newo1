"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9538],{9538:(Z,p,c)=>{c.r(p),c.d(p,{LoginPageModule:()=>T});var l=c(6895),g=c(4006),m=c(7771),r=c(2694),_=c(5230),d=c(5861),n=c(4650),h=c(1133),C=c(958),f=c(9726);function M(e,s){1&e&&(n.TgZ(0,"ion-title"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"LOGIN_TITLE")))}function P(e,s){1&e&&(n.TgZ(0,"ion-title"),n._uU(1,"Bienvenido"),n.qZA())}function x(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"ion-content")(1,"section")(2,"div",2),n._UZ(3,"img",3),n.qZA(),n.TgZ(4,"ion-toolbar"),n._UZ(5,"ion-buttons",4),n.YNc(6,M,3,3,"ion-title",0),n.YNc(7,P,2,0,"ion-title",0),n.qZA(),n.TgZ(8,"form")(9,"ion-input",5),n.NdJ("ngModelChange",function(i){n.CHM(t);const a=n.oxw();return n.KtG(a.account.username=i)}),n.qZA(),n.TgZ(10,"ion-input",6),n.NdJ("ngModelChange",function(i){n.CHM(t);const a=n.oxw();return n.KtG(a.account.password=i)}),n.qZA(),n.TgZ(11,"ion-row",7)(12,"ion-col")(13,"ion-button",8),n.NdJ("click",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.login())}),n._uU(14,"Ingresar"),n.qZA()()()()()()}if(2&e){const t=n.oxw();n.xp6(6),n.Q6J("ngIf",!t.isLogin),n.xp6(1),n.Q6J("ngIf",t.isLogin),n.xp6(2),n.Q6J("ngModel",t.account.username),n.xp6(1),n.Q6J("ngModel",t.account.password)}}function v(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"div")(1,"div",12),n.NdJ("click",function(){const a=n.CHM(t).$implicit,u=n.oxw(2);return n.KtG(u.sedeSelected(a))}),n._UZ(2,"img",13),n.TgZ(3,"p"),n._uU(4),n.qZA(),n._UZ(5,"div",14),n.qZA()()}if(2&e){const t=s.$implicit,o=n.oxw(2);n.xp6(1),n.Q6J("ngClass",o.selected==t.id?"contentSede Selected":"contentSede"),n.xp6(1),n.MGl("src","../../../assets/img/",t.id,".jpg",n.LSH),n.xp6(2),n.Oqu(t.nombreSede)}}function O(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"ion-content",7)(1,"section")(2,"h4"),n._uU(3,"Selecciona la sede"),n.qZA(),n.TgZ(4,"div",9),n.YNc(5,v,6,3,"div",10),n.qZA(),n.TgZ(6,"div",11)(7,"ion-button",8),n.NdJ("click",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.goHome())}),n._uU(8,"Continuar"),n.qZA()()()()}if(2&e){const t=n.oxw();n.xp6(5),n.Q6J("ngForOf",t.sedes)}}const b=[{path:"",component:(()=>{class e{constructor(t,o,i,a,u){this.loginService=t,this.toastController=o,this.navController=i,this.sedesService=a,this.loadingController=u,this.account={username:"",password:"",rememberMe:!1},this.isLogin=!1,this.selected=0}login(){var t=this;return(0,d.Z)(function*(){if(t.account.username&&t.account.password)try{const o=yield t.loginService.login(t.account);o&&(sessionStorage.setItem("account",JSON.stringify(o)),t.presentToast("Successful authentication"),t.isLogin=!0,yield t.searchSedes())}catch(o){t.presentToast(o.error.detail)}else t.presentToast("Username and password are required")})()}searchSedes(){var t=this;return(0,d.Z)(function*(){yield(yield t.loadingController.create({duration:2e3})).present(),t.sedesService.query().subscribe({next:i=>{t.sedes=i.body,console.log(t.sedes)},error:i=>{console.log(i)}})})()}sedeSelected(t){this.selected=t.id,sessionStorage.setItem("sede",JSON.stringify(t))}goHome(){0!==this.selected?this.navController.navigateRoot("/tabs/home"):this.presentToast("Seleccione una sede para continuar")}presentToast(t){var o=this;return(0,d.Z)(function*(){(yield o.toastController.create({message:t,duration:2e3,color:"dark",position:"top"})).present()})()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(h.r),n.Y36(r.yF),n.Y36(C.SH),n.Y36(f.y),n.Y36(r.HT))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-login"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","ion-padding",4,"ngIf"],[1,"backgroundImg"],["src","../../../assets/img/newo.png","alt",""],["slot","start"],["name","username","label","Usuario","placeholder","user@newo.co",3,"ngModel","ngModelChange"],["name","password","type","password","label","Contrase\xf1a","placeholder","********",3,"ngModel","ngModelChange"],[1,"ion-padding"],["expand","block","type","button",3,"click"],[1,"sedes"],[4,"ngFor","ngForOf"],[1,"btn"],[3,"ngClass","click"],["alt","Del Este",3,"src"],[1,"booking-imgBlur"]],template:function(t,o){1&t&&(n.YNc(0,x,15,4,"ion-content",0),n.YNc(1,O,9,1,"ion-content",1)),2&t&&(n.Q6J("ngIf",!o.isLogin),n.xp6(1),n.Q6J("ngIf",o.isLogin))},dependencies:[l.mk,l.sg,l.O5,g._Y,g.JJ,g.JL,g.On,g.F,r.YG,r.Sm,r.wI,r.W2,r.pK,r.Nd,r.wd,r.sr,r.j9,_.X$],styles:["*[_ngcontent-%COMP%]{color:var(--ion-color-white)}.content-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.content-cards[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{width:30vw;cursor:pointer}.sedes[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.sedes[_ngcontent-%COMP%]   .contentSede[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(2,1fr);align-items:end;width:200px}.sedes[_ngcontent-%COMP%]   .contentSede[_ngcontent-%COMP%]   .booking-imgBlur[_ngcontent-%COMP%]{height:25px;grid-row:2;grid-column:1/3;background:rgba(5,5,9,.23);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);border-radius:0 0 8px 8px}.sedes[_ngcontent-%COMP%]   .contentSede[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:100px;border-radius:8px;grid-row:1/3;grid-column:1/3}.sedes[_ngcontent-%COMP%]   .contentSede[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:3px;grid-row:2;grid-column:1;background-color:transparent;z-index:2}.sedes[_ngcontent-%COMP%]   .Selected[_ngcontent-%COMP%]{border:solid var(--ion-color-aqua);border-radius:8px}.btn[_ngcontent-%COMP%]{margin-top:2.54vh}section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;width:100vw}section[_ngcontent-%COMP%]   .backgroundImg[_ngcontent-%COMP%]{position:absolute;top:60px}section[_ngcontent-%COMP%]   .backgroundImg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60vh;opacity:.05}ion-input[_ngcontent-%COMP%]{color:var(--ion-color-white)}ion-input[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{border-bottom:solid .5px var(--ion-color-lightgray3);--color: var(--ion-color-white)}ion-input[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:red}ion-button[_ngcontent-%COMP%]{--background: var(--ion-color-white);--background-activated: var(--ion-color-white-shade);color:var(--ion-color-black);text-transform:capitalize}ion-toolbar[_ngcontent-%COMP%]{--background: transparent}"]}),e})()}];let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[l.ez,g.u5,r.Pc,m.Bz.forChild(b),_.aw]}),e})()}}]);